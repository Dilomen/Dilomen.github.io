---
title: 设计模式
tags: 设计模式
categories: 设计模式
keywords: 设计模式
description: 什么是设计模式
abbrlink: 364ea8cc
date: 2019-08-25 10:23:04
---

#### **什么是设计模式**

设计模式是将原有代码业务逻辑进行**封装**，**实现重用**，方便其他开发人员理解，利于代码更好的**维护**，使代码更加**工程化**

tip: 其实在开发中，我们经常有使用到某些设计模式，只是没有将它归纳出来，或者还可以更加的优化  
tip: 由于 js 本身没有传统的面向对象语言的一些特性，需要通过自己去模拟那些特性

#### **设计模式的六大原则**

- **单一职责原则**

  - 一个方法（类）做只一件事（实现一个任务）

    ```js
    function person(name, age) {
        this.name = name
        this.age = age
    }
    person.prototype = {
        // 一个方法做一件事
        getName: function() {
            return this.name
        }
        getAge: function() {
            return this.age
        }
    }
    ```

- **开放封闭原则**

  - 开放是对类（函数）的可拓展性，封闭式对原有类（原有函数）的不可修改性

    ```js
    person.prototype.sayHello = function() {
      console.log("Hello World");
    };
    ```

- **里氏代换原则**

  - 子类必须实现父类的方法，但是不能改变父类的原有功能

    ```js
    person.prototype.sayHello = function() {
      throw new Error("子类必须实现该方法");
    };
    function sub() {}
    sub.prototype = new person();
    sub.prototype.sayHello = function() {
      console.log("我实现了父类的方法");
    };
    ```

- **依赖倒置原则**

  - 让实现类去依赖抽象，而不是相互依赖

- **接口隔离原则**

  - 接口应该更加细分，更加专用，实用

- **最少知识原则**

  - 减少对象之间的耦合，对象只能调用另一个对象的暴露方法，尽量减少对象和对象之间直接的修改

    ```js
    function person() {
      var name = "";
      function get() {
        return name;
      }
    }

    function name() {
      person.get();
    }
    ```

#### **按类型分类（js）**（待完善）

- **创建型**

  - 工厂模式（简单工厂模式，工厂模式，抽象工厂模式）
    - 可以用于创建不同的角色权限的场景
  - 建造者模式
  - 原型模式
  - 单例模式
    - 生成唯一的 dom，如 toast，modal 这些

- **结构型**

  - 外观模式
    - 如对浏览器做的一些兼容封装
  - 适配器模式：将原来的数据对象转化成需求的数据对象
    - 接口调用后的需求数据
    - Vue 中的计算属性 Computed，生成想要的数据
  - 代理模式：通过代理来访问控制某个对象
    - 事件代理，将事件的执行依赖在浏览器上
  - 装饰器模式：在不改变原有对象的基础上进行拓展功能
    - react 的 connect
  - 桥接模式
  - 组合模式
  - 亨元模式

- **行为型**
  - 观察者模式
    - vue 中的 watch（Object.defineProperty）
  - 发布-订阅模式
    - websocket的应用
  - 状态模式
  - 策略模式：
    - 表单验证
  - 职责链模式
  - 命令模式
  - 访问者模式
  - 中介者模式：将两个或以上对象交互内容抽离出来，使每个对象更加独立，由网状结构变为星型结构
    - MVC中的Controller，MVVM中的ViewModal都是中介者
  - 备忘录模式
  - 迭代器模式
  - 解释器模式
