## 微前端

qiankun 的一些解决方案

基座项目 通过 import-html-entry 插件去加载到 不同子项目的 url 对应的静态 html 文件，然后根据 processTpl 正则解析整个文本字符串，解析出 DOM、style、script 等标签

通过 execScripts 执行导出 export 内容，即 mount，unmount 等方法。然后进行对应的挂载

### JS 隔离

主要就是 window 全局变量的隔离

- 快照隔离 SnapshotSandbox

当子应用改变一个 window 属性值时，通过一个变量存储改属性的状态，当子应用销毁时，恢复原先的环境状态，所以只能支持但子应用，多个子应用同时存在会发生冲突

存在主要是为了兼容低浏览器不支持 ES6 的原因

- 代理隔离 ProxySandbox

通过对 window 的 Proxy 代理，每一个子应用会生成 ProxySandbox 实例，当子应用改变 window 下的属性时，就会通过代理 set 到子应用下的对象变量，然后 get 时，会优先读取对象变量是否存在，存在使用对象变量中的属性，不存在就使用 window 下的

### 样式隔离

ScopedCSS： 主要是对标签进行添加 prefix 的重写
