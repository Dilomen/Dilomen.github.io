## 概述

数组是值的<em>有序集合</em>!  
JS 数组是没有固定大小且无类型(支持多种类型）。
:::tip 了解一下
索引的范围是 0 <= 索引 <= 4294967294 (即 2^32 - 2)，也就是数组最多能容纳 4294967295 个元素，一般也不会用到这么大 😁
:::

## 创建数组

### Array 构造函数

```js
var Array1 = new Array(); // 空数组
var Array2 = new Array(10); // 10个长度的数组
var Array3 = new Array(1, 2, 3); //  包含1,2,3的元素的数组
```

### 字面量

```js
var Array = []; // 空数组
var Array = [1, 2, 3]; //  包含1,2,3的元素的数组
```

### ES6 新增 <em>Array.of()</em>

与 Array 构造方式类似，不同之处，当传入只有一个参数的时候，会被当做数据的唯一项，而不是 length 的值

```js
var arr = Array.of(2);
console.log(arr.length); //1
console.log(arr[0]); //2
```

## length 属性

返回数组中元素的数目，修改 length，会对数组进行改变操作（截断或者添加空项）

```js
var arr = [1, 2, 3, 4];
console.log(arr.length); //4
arr.length = 2;
console.log(arr); //[1,2]
```

## 转化方法

```js
// 默认下toString，valueOf，toLocaleString都是返回数组字符串
var myInformation = ['zjf','boy','student'];
myInformation.toString());
myInformation.valueOf();
myInformation.toLocaleString();
// join:接受一个字符串作为分隔符
myInformation.join('|');
```

## 合并两个数组  

```js
var arr = [1, 2, 3];
let array = arr.concat(4, 5, 6, 7);
// 或 = arr.concat([4,5,6,7])
// 或 = [...arr1, ...arr2]
console.log(array); // [1, 2, 3, 4, 5, 6, 7]
```

## 将非数组转化为数组

<em>Array.from</em> 方法从一个类似数组或可迭代对象创建一个新的，浅拷贝的数组实例。

> 可以将 DOM 的 HTMLCollection 类数组对象或者 Set 等转为数组,进行操作

```js
var Str = "12345";
var arr = Array.from(Str);
console.log(arr); //[1,2,3,4,5]
// 第二个参数可以进行map操作，即进行遍历每个项
function translate() {
  return Array.from(arguments, (value) => value + 1);
}
let numbers = translate(1, 2, 3);
console.log(numbers);
```

split 是将一个字符串根据指定字符分割成一个数组

```js
var myInformation = "zjf,boy,student";
let arr = myInformation.split(",");
console.log(arr); //["zjf", "boy", "student"]
//该方法可以写第二个参数，第二个参数为输出数组的长度，不得大于原数组最大长度
myInformation.split(",", 2);
console.log(arr); //["zjf", "boy"]
```

## delete 删除

原来的长度不变，只是将删除位置上的元素用 undefined 代替了

```js
var arr = [1, 2, 3, 4];
delete arr[2];
console.log(arr.length); //4
console.log(arr[2]); //undefined
```

:::tip 小贴士
所有数组方法如果是选择两个索引区间的，即(, start, end)，那么<em>终止索引都是不包括的</em>
:::

## 增删

```js
var arr = [1, 2, 3, 4];
arr.push(1, 5); // 在数组尾部添加新的项,会返回最终数组的长度
arr.pop(); // 删除数组尾部的第一项，会返回删除项的值
arr.shift(); //删除数组开头的第一项，会返回删除项的值
arr.unshift(10, 9, 8); //在数组前端加入新的项,会返回最终数组的长度

var arr1 = [1, 2, 3, 4, 5, 6, 7, 8, 9];

var arr = arr1.slice(1, 4); //传入一个开始位置和一个结束位置(不包含),返回给新的数组,如果传入的是负数，则加上数组的长度来确定位置
var arr = arr1.splice(1, 4); // 第一个参数作为起始位置,第二个参数作为要删除的项数
var arr = arr1.splice(1, 3, 23, 11, 45, 27); // 第三个及之后参数,开始作为替换的项,改变的是原数组
var arr = arr1.splice(1, 0, 23, 11, 45, 27); // 第三个及之后参数,开始作为插入的项,改变的是原数组
```

## 位置方法

```js
var arr = [5, 6, 7, 18, 29];
var index = arr1.indexOf(4); // 可以传入查找项,返回该项的索引(从数组的开头开始查找)
var index = arr1.lastIndexOf(4); // 可以传入查找项,返回该项的索引(从数组的结尾开始查找)
var item = arr.find((n) => n > 7); // 返回的是查找到的值
var index = arr.findIndex((n) => n > 7); // 返回的是查找到的值的索引
var result = arr.includes(7); // 传入一个值，查看数组中是否有该值，有返回true,无则false
```

## 填充

```js
var arr = [1, 2, 3, 4, 5];
// arr.fill(value, start, end); 第一个参数是必选填充的值，后面两个都是可选，分别是开始和终止索引(不包含)
// 如果传入只一个参数,那么所有项都会被该值替代
arr.fill(1); // [1,1,1,1,1]
arr.fill(1, 2); // [1, 2, 1, 1,1]
arr.fill(1, 2, 4); // [1, 2, 1, 1, 5]

// copyWithin
// arr.copyWithin(target, start, end); 浅复制数组的一部分到同一个数组的另一个位置，数组长度不变
arr.copyWithin(0, 1); // [2, 3, 4, 5, 5] 不传第三个参数，就是从开始索引到最后，替换目标，直至长度等于原数组长度
arr.copyWithin(0, 1, 3); // [2, 3, 3, 4, 5]
```

## 迭代方法

### forEach

```js
arr.forEach(function(item, index, array) {
  console.log(item + 1);
  console.log(index);
});
```

### map

map,和 forEach 的区别就是，map 可以有返回值，而 forEach 没有

```js
arr.map(function(item, index, array) {
  console.log(item + 1);
  console.log(index);
  return item;
});
```

### every

检测每一项是否满足条件，全部满足，则输出 true

```js
var result = arr.every(function(item, index, array) {
  return item > 3;
});
```

### some

检测每一项是否满足条件，只要有一项满足，则输出 true

```js
var result = arr.some(function(item, index, array) {
  return item > 3;
});
```

### filter

刷选出符合条件的数据，组成新数组

```js
var newArr = arr.filter(function(item, index, array) {
  return item > 3;
});
console.log(newArr); // [4,5,6,7]
```

## 归并方法

### reduce

reduce((result, item, index, array) => {}, initResult)

```js
var arr = arr.reduce((newArr, item) => {
  newArr.push(item);
  return newArr;
}, []);
```

### reduceRight

reduce 的反方向操作

## 排序

### reverse

反转数组

```js
var arr = [1, 2, 3, 4, 5];
arr.reverse(); // [5,4,3,2,1]
```

### sort

默认按字符串顺序字符的 ASCLL 码值比较

```js
var arr = [2, 13, 24];
arr.sort();
console.log(arr); // [13, 2, 24]
```

接受一个比较方法作为参数

```js
arr.sort((item1, item2) => item1 > item2); // [2, 13, 24]
```

## 判断数组

- arr instanceof Array
- Array.isArray(arr)
- Object.prototype.toString.call(arr))

## 是否改变原数组

### 改变原数组

| -      | -   | -    | -       | -     | -    | -       | -          | -    |
| ------ | --- | ---- | ------- | ----- | ---- | ------- | ---------- | ---- |
| splice | pop | push | unshift | shift | sort | reverse | copyWithin | fill |

### 不改变原数组

| -     | -      | -       | -   | -     | -    | -      | -      |
| ----- | ------ | ------- | --- | ----- | ---- | ------ | ------ |
| slice | concat | forEach | map | every | some | filter | reduce |
