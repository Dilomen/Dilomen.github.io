## 查询

testing-library 提供了一些查询方法方便定位到具体的元素，以便于测试
[官方文档地址](https://testing-library.com/docs/queries/about)
```js
// demo
import { render, screen } from "@testing-library/react";

test("should show login form", () => {
  render(<Button>确定</Button>);
  const btn = screen.getByText("确定");
});
```

主要有三个类型 get，query，find。

- 查询单个的 API:getBy，queryBy，findBy
- 查询多个的 API:getAllBy，queryAllBy，findAllBy

查询单个的 API 如果匹配到多个都会报错，所以一般都是用于精准定位元素的

| 类型  | 是否异步 | 未匹配是否报错 |
| ----- | -------- | -------------- |
| get   | 同步     | 报错           |
| query | 同步     | 返回 null      |
| find  | 异步     | 报错           |

## screen

优先使用screen下的查询API，不然的话，就必须将container作为第一个元素传给查询API

```js
const { getByText, container } = render(<Button>确定</Button>);
const btn = getByText(container, '确定')

const { screen } = render(<Button>确定</Button>);
const btn = screen.getByText('确定')
```

## 支持匹配

查询API可以支持字符串，模糊匹配（如忽略大小写，子串匹配），正则，方法

```js
screen.getByText('Hello World')
// 忽略大小写
screen.getByText('hello world', { extra: false })
// 子串匹配
screen.getByText('orld', { extra: false })
// 正则
screen.getByText(/World$/)
// 方法
screen.getByText((content, element) => content.startsWith('Hello'))
```