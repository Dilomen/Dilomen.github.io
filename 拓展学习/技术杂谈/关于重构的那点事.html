<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前言 | DILOMEN&#39;S BLOG</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="shortcut icon" href="/logo.ico" type="images/x-icon">
    <link rel="manifest" href="/manifest.json">
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.slim.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.bootcdn.net/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.css">
    <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/KaTeX/0.7.1/katex.min.css">
    <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/github-markdown-css/2.10.0/github-markdown.min.css">
    <meta name="description" content=" ">
    <meta name="keywords" content="前端博客,前端进阶,前端学习分享,web前端技术,前端进阶">
    <meta name="baidu-site-verification" content="1habgJadYO">
    
    <link rel="preload" href="/assets/css/0.styles.a21ae05c.css" as="style"><link rel="preload" href="/assets/js/app.42f00aa1.js" as="script"><link rel="preload" href="/assets/js/2.edb9f13a.js" as="script"><link rel="preload" href="/assets/js/68.a0131337.js" as="script"><link rel="preload" href="/assets/js/3.61a7e294.js" as="script"><link rel="prefetch" href="/assets/js/10.3e83a25e.js"><link rel="prefetch" href="/assets/js/100.28dbeddf.js"><link rel="prefetch" href="/assets/js/101.c40012a4.js"><link rel="prefetch" href="/assets/js/102.6d1fffe1.js"><link rel="prefetch" href="/assets/js/103.98284151.js"><link rel="prefetch" href="/assets/js/104.24b66762.js"><link rel="prefetch" href="/assets/js/105.cf54b610.js"><link rel="prefetch" href="/assets/js/106.0be9b77e.js"><link rel="prefetch" href="/assets/js/107.ae633409.js"><link rel="prefetch" href="/assets/js/108.af7742e1.js"><link rel="prefetch" href="/assets/js/109.e132bc9e.js"><link rel="prefetch" href="/assets/js/11.37429034.js"><link rel="prefetch" href="/assets/js/110.0f916d0e.js"><link rel="prefetch" href="/assets/js/111.bb41bda2.js"><link rel="prefetch" href="/assets/js/112.541c20af.js"><link rel="prefetch" href="/assets/js/113.bd18de3d.js"><link rel="prefetch" href="/assets/js/114.2b3f5745.js"><link rel="prefetch" href="/assets/js/115.4389e2b1.js"><link rel="prefetch" href="/assets/js/116.c80d48d1.js"><link rel="prefetch" href="/assets/js/117.823b361c.js"><link rel="prefetch" href="/assets/js/118.d3dea1a4.js"><link rel="prefetch" href="/assets/js/119.7283d4e2.js"><link rel="prefetch" href="/assets/js/12.51e0741f.js"><link rel="prefetch" href="/assets/js/120.209094e0.js"><link rel="prefetch" href="/assets/js/121.25afaf69.js"><link rel="prefetch" href="/assets/js/122.fe110abc.js"><link rel="prefetch" href="/assets/js/123.92da54b4.js"><link rel="prefetch" href="/assets/js/124.3f9e73bd.js"><link rel="prefetch" href="/assets/js/125.b0ffb6ed.js"><link rel="prefetch" href="/assets/js/126.b93cd35b.js"><link rel="prefetch" href="/assets/js/127.f31ab3ea.js"><link rel="prefetch" href="/assets/js/128.7d69a18a.js"><link rel="prefetch" href="/assets/js/129.2be82451.js"><link rel="prefetch" href="/assets/js/13.3895f524.js"><link rel="prefetch" href="/assets/js/130.8b3e02e8.js"><link rel="prefetch" href="/assets/js/131.ec472deb.js"><link rel="prefetch" href="/assets/js/132.96300569.js"><link rel="prefetch" href="/assets/js/133.39f1bbad.js"><link rel="prefetch" href="/assets/js/134.3e2a512b.js"><link rel="prefetch" href="/assets/js/135.9a57c728.js"><link rel="prefetch" href="/assets/js/136.1dd80cdf.js"><link rel="prefetch" href="/assets/js/137.52dd46ee.js"><link rel="prefetch" href="/assets/js/138.11f14aa5.js"><link rel="prefetch" href="/assets/js/139.cfbcfb81.js"><link rel="prefetch" href="/assets/js/14.45d47193.js"><link rel="prefetch" href="/assets/js/140.425a15fe.js"><link rel="prefetch" href="/assets/js/141.f9849b24.js"><link rel="prefetch" href="/assets/js/142.8a1139d0.js"><link rel="prefetch" href="/assets/js/143.7529486e.js"><link rel="prefetch" href="/assets/js/144.5c29b468.js"><link rel="prefetch" href="/assets/js/145.1ae96e29.js"><link rel="prefetch" href="/assets/js/146.6f822034.js"><link rel="prefetch" href="/assets/js/147.5c508ce8.js"><link rel="prefetch" href="/assets/js/148.ee4e4cc2.js"><link rel="prefetch" href="/assets/js/149.58ecc512.js"><link rel="prefetch" href="/assets/js/15.3567bb95.js"><link rel="prefetch" href="/assets/js/150.39f8fce3.js"><link rel="prefetch" href="/assets/js/151.2825d286.js"><link rel="prefetch" href="/assets/js/152.2da8e865.js"><link rel="prefetch" href="/assets/js/153.86a81593.js"><link rel="prefetch" href="/assets/js/154.119e0e7e.js"><link rel="prefetch" href="/assets/js/155.022299a9.js"><link rel="prefetch" href="/assets/js/156.d4df2e10.js"><link rel="prefetch" href="/assets/js/157.4a6181ce.js"><link rel="prefetch" href="/assets/js/158.af5bddfc.js"><link rel="prefetch" href="/assets/js/159.eeb2c9e6.js"><link rel="prefetch" href="/assets/js/16.36a3a351.js"><link rel="prefetch" href="/assets/js/160.70206dcf.js"><link rel="prefetch" href="/assets/js/161.6044f2e0.js"><link rel="prefetch" href="/assets/js/162.989382a2.js"><link rel="prefetch" href="/assets/js/163.da6b4f61.js"><link rel="prefetch" href="/assets/js/164.2a8b67a4.js"><link rel="prefetch" href="/assets/js/165.3989ca70.js"><link rel="prefetch" href="/assets/js/166.ab313e43.js"><link rel="prefetch" href="/assets/js/167.58a63a9e.js"><link rel="prefetch" href="/assets/js/168.f4f52a23.js"><link rel="prefetch" href="/assets/js/169.4acfc055.js"><link rel="prefetch" href="/assets/js/17.4d809ce3.js"><link rel="prefetch" href="/assets/js/170.8eda8934.js"><link rel="prefetch" href="/assets/js/171.2313ddff.js"><link rel="prefetch" href="/assets/js/172.24da8926.js"><link rel="prefetch" href="/assets/js/173.a55d7677.js"><link rel="prefetch" href="/assets/js/174.2ea1853c.js"><link rel="prefetch" href="/assets/js/175.9c2b105a.js"><link rel="prefetch" href="/assets/js/18.a7a91cac.js"><link rel="prefetch" href="/assets/js/19.04f964bb.js"><link rel="prefetch" href="/assets/js/20.b6d8a7c3.js"><link rel="prefetch" href="/assets/js/21.149e098c.js"><link rel="prefetch" href="/assets/js/22.c3acf1a5.js"><link rel="prefetch" href="/assets/js/23.f0d4ea40.js"><link rel="prefetch" href="/assets/js/24.6c98f948.js"><link rel="prefetch" href="/assets/js/25.d3f6c4b1.js"><link rel="prefetch" href="/assets/js/26.80d61efb.js"><link rel="prefetch" href="/assets/js/27.88c44748.js"><link rel="prefetch" href="/assets/js/28.dfb49e22.js"><link rel="prefetch" href="/assets/js/29.aaf2bc24.js"><link rel="prefetch" href="/assets/js/30.a539f221.js"><link rel="prefetch" href="/assets/js/31.7eec0158.js"><link rel="prefetch" href="/assets/js/32.c4778059.js"><link rel="prefetch" href="/assets/js/33.b0309fb7.js"><link rel="prefetch" href="/assets/js/34.05f5835f.js"><link rel="prefetch" href="/assets/js/35.9d133d1b.js"><link rel="prefetch" href="/assets/js/36.30d81f99.js"><link rel="prefetch" href="/assets/js/37.4ec929f8.js"><link rel="prefetch" href="/assets/js/38.3899d039.js"><link rel="prefetch" href="/assets/js/39.b5a4fc4f.js"><link rel="prefetch" href="/assets/js/4.3b8adb0a.js"><link rel="prefetch" href="/assets/js/40.896127a9.js"><link rel="prefetch" href="/assets/js/41.a8b59a21.js"><link rel="prefetch" href="/assets/js/42.d8b68479.js"><link rel="prefetch" href="/assets/js/43.539d377f.js"><link rel="prefetch" href="/assets/js/44.b25c02db.js"><link rel="prefetch" href="/assets/js/45.b4563026.js"><link rel="prefetch" href="/assets/js/46.829a8bf2.js"><link rel="prefetch" href="/assets/js/47.59d38e5b.js"><link rel="prefetch" href="/assets/js/48.8be081d8.js"><link rel="prefetch" href="/assets/js/49.a08f1830.js"><link rel="prefetch" href="/assets/js/5.49aa2835.js"><link rel="prefetch" href="/assets/js/50.62c6483e.js"><link rel="prefetch" href="/assets/js/51.a30179ca.js"><link rel="prefetch" href="/assets/js/52.22c37887.js"><link rel="prefetch" href="/assets/js/53.899c56f7.js"><link rel="prefetch" href="/assets/js/54.3a0102f8.js"><link rel="prefetch" href="/assets/js/55.6cd2f68f.js"><link rel="prefetch" href="/assets/js/56.7f328803.js"><link rel="prefetch" href="/assets/js/57.8f1e329a.js"><link rel="prefetch" href="/assets/js/58.735913d8.js"><link rel="prefetch" href="/assets/js/59.65a165bd.js"><link rel="prefetch" href="/assets/js/6.b541305f.js"><link rel="prefetch" href="/assets/js/60.5e2afdd3.js"><link rel="prefetch" href="/assets/js/61.70659dd2.js"><link rel="prefetch" href="/assets/js/62.cd71fd02.js"><link rel="prefetch" href="/assets/js/63.542e747d.js"><link rel="prefetch" href="/assets/js/64.6029712d.js"><link rel="prefetch" href="/assets/js/65.6d904154.js"><link rel="prefetch" href="/assets/js/66.73003587.js"><link rel="prefetch" href="/assets/js/67.31cc557b.js"><link rel="prefetch" href="/assets/js/69.b94678ce.js"><link rel="prefetch" href="/assets/js/7.fabce998.js"><link rel="prefetch" href="/assets/js/70.70175176.js"><link rel="prefetch" href="/assets/js/71.38f9fa21.js"><link rel="prefetch" href="/assets/js/72.0b43d0ef.js"><link rel="prefetch" href="/assets/js/73.f27252fd.js"><link rel="prefetch" href="/assets/js/74.5dccc453.js"><link rel="prefetch" href="/assets/js/75.ed796fa2.js"><link rel="prefetch" href="/assets/js/76.a5db5590.js"><link rel="prefetch" href="/assets/js/77.772277dc.js"><link rel="prefetch" href="/assets/js/78.a5c6c3d5.js"><link rel="prefetch" href="/assets/js/79.f3f60dbf.js"><link rel="prefetch" href="/assets/js/8.3eef07a9.js"><link rel="prefetch" href="/assets/js/80.52fe4d32.js"><link rel="prefetch" href="/assets/js/81.ce3ff02a.js"><link rel="prefetch" href="/assets/js/82.35424ee2.js"><link rel="prefetch" href="/assets/js/83.f9029fda.js"><link rel="prefetch" href="/assets/js/84.21b21f03.js"><link rel="prefetch" href="/assets/js/85.7453e07c.js"><link rel="prefetch" href="/assets/js/86.4924e795.js"><link rel="prefetch" href="/assets/js/87.600b7901.js"><link rel="prefetch" href="/assets/js/88.8afc3341.js"><link rel="prefetch" href="/assets/js/89.121a73bd.js"><link rel="prefetch" href="/assets/js/9.440a3591.js"><link rel="prefetch" href="/assets/js/90.d80142cf.js"><link rel="prefetch" href="/assets/js/91.10290169.js"><link rel="prefetch" href="/assets/js/92.19f19216.js"><link rel="prefetch" href="/assets/js/93.e21b64a3.js"><link rel="prefetch" href="/assets/js/94.afcb5ab9.js"><link rel="prefetch" href="/assets/js/95.0692127b.js"><link rel="prefetch" href="/assets/js/96.c3aaf90a.js"><link rel="prefetch" href="/assets/js/97.b8d368f1.js"><link rel="prefetch" href="/assets/js/98.ff43c32b.js"><link rel="prefetch" href="/assets/js/99.2a811a90.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a21ae05c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DILOMEN'S BLOG</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          综合
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/前端/HTML/" class="nav-link">
  HTML
</a></li><li class="dropdown-subitem"><a href="/前端/CSS/水平垂直居中.html" class="nav-link">
  CSS
</a></li></ul></li><li class="dropdown-item"><h4>
          编程语言
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/编程语言/JavaScript/基本类型和引用类型.html" class="nav-link">
  JavaScript
</a></li><li class="dropdown-subitem"><a href="/编程语言/TypeScript/基础知识.html" class="nav-link">
  TypeScript
</a></li></ul></li><li class="dropdown-item"><h4>
          框架 | 库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/框架、库/React/生命周期.html" class="nav-link">
  React
</a></li><li class="dropdown-subitem"><a href="/框架、库/Vue/生命周期.html" class="nav-link">
  Vue
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工程化" class="dropdown-title"><span class="title">工程化</span> <span class="arrow down"></span></button> <button type="button" aria-label="工程化" class="mobile-dropdown-title"><span class="title">工程化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/工程化/包管理/npm.html" class="nav-link">
  包管理
</a></li><li class="dropdown-item"><!----> <a href="/工程化/打包工具/webpack/基本配置.html" class="nav-link">
  打包工具
</a></li><li class="dropdown-item"><!----> <a href="/工程化/单元测试/Jest/基本知识.html" class="nav-link">
  单元测试
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="源码分析" class="dropdown-title"><span class="title">源码分析</span> <span class="arrow down"></span></button> <button type="button" aria-label="源码分析" class="mobile-dropdown-title"><span class="title">源码分析</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/源码分析/vue/运行机制.html" class="nav-link">
  vue
</a></li><li class="dropdown-item"><!----> <a href="/源码分析/axios/axios源码分析.html" class="nav-link">
  axios
</a></li><li class="dropdown-item"><!----> <a href="/源码分析/react/Component.html" class="nav-link">
  react
</a></li><li class="dropdown-item"><!----> <a href="/源码分析/antd/form.html" class="nav-link">
  antd
</a></li><li class="dropdown-item"><!----> <a href="/源码分析/react-router/" class="nav-link">
  react-router
</a></li><li class="dropdown-item"><!----> <a href="/源码分析/vue-router/基本知识.html" class="nav-link">
  vue-router
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机通用" class="dropdown-title"><span class="title">计算机通用</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机通用" class="mobile-dropdown-title"><span class="title">计算机通用</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/计算机通用/计算机基础/数据结构.html" class="nav-link">
  计算机基础
</a></li><li class="dropdown-item"><!----> <a href="/计算机通用/设计模式/设计模式介绍.html" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/计算机通用/web安全/web安全简述.html" class="nav-link">
  web安全
</a></li><li class="dropdown-item"><!----> <a href="/计算机通用/算法/排序.html" class="nav-link">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/计算机通用/浏览器/浏览器缓存机制.html" class="nav-link">
  浏览器
</a></li><li class="dropdown-item"><!----> <a href="/计算机通用/网络/常见的状态码.html" class="nav-link">
  网络
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="拓展学习" class="dropdown-title"><span class="title">拓展学习</span> <span class="arrow down"></span></button> <button type="button" aria-label="拓展学习" class="mobile-dropdown-title"><span class="title">拓展学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/拓展学习/Java/基础知识.html" class="nav-link">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/拓展学习/技术了解/Redis.html" class="nav-link">
  技术了解
</a></li><li class="dropdown-item"><!----> <a href="/拓展学习/技术杂谈/关于重构的那点事.html" class="nav-link">
  技术杂谈
</a></li><li class="dropdown-item"><!----> <a href="/拓展学习/Node/基础知识/基础知识.html" class="nav-link">
  Node
</a></li></ul></div></div><div class="nav-item"><a href="/about.html" class="nav-link">
  关于
</a></div><div class="nav-item"><a href="https://github.com/Dilomen" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          综合
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/前端/HTML/" class="nav-link">
  HTML
</a></li><li class="dropdown-subitem"><a href="/前端/CSS/水平垂直居中.html" class="nav-link">
  CSS
</a></li></ul></li><li class="dropdown-item"><h4>
          编程语言
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/编程语言/JavaScript/基本类型和引用类型.html" class="nav-link">
  JavaScript
</a></li><li class="dropdown-subitem"><a href="/编程语言/TypeScript/基础知识.html" class="nav-link">
  TypeScript
</a></li></ul></li><li class="dropdown-item"><h4>
          框架 | 库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/框架、库/React/生命周期.html" class="nav-link">
  React
</a></li><li class="dropdown-subitem"><a href="/框架、库/Vue/生命周期.html" class="nav-link">
  Vue
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工程化" class="dropdown-title"><span class="title">工程化</span> <span class="arrow down"></span></button> <button type="button" aria-label="工程化" class="mobile-dropdown-title"><span class="title">工程化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/工程化/包管理/npm.html" class="nav-link">
  包管理
</a></li><li class="dropdown-item"><!----> <a href="/工程化/打包工具/webpack/基本配置.html" class="nav-link">
  打包工具
</a></li><li class="dropdown-item"><!----> <a href="/工程化/单元测试/Jest/基本知识.html" class="nav-link">
  单元测试
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="源码分析" class="dropdown-title"><span class="title">源码分析</span> <span class="arrow down"></span></button> <button type="button" aria-label="源码分析" class="mobile-dropdown-title"><span class="title">源码分析</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/源码分析/vue/运行机制.html" class="nav-link">
  vue
</a></li><li class="dropdown-item"><!----> <a href="/源码分析/axios/axios源码分析.html" class="nav-link">
  axios
</a></li><li class="dropdown-item"><!----> <a href="/源码分析/react/Component.html" class="nav-link">
  react
</a></li><li class="dropdown-item"><!----> <a href="/源码分析/antd/form.html" class="nav-link">
  antd
</a></li><li class="dropdown-item"><!----> <a href="/源码分析/react-router/" class="nav-link">
  react-router
</a></li><li class="dropdown-item"><!----> <a href="/源码分析/vue-router/基本知识.html" class="nav-link">
  vue-router
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机通用" class="dropdown-title"><span class="title">计算机通用</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机通用" class="mobile-dropdown-title"><span class="title">计算机通用</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/计算机通用/计算机基础/数据结构.html" class="nav-link">
  计算机基础
</a></li><li class="dropdown-item"><!----> <a href="/计算机通用/设计模式/设计模式介绍.html" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/计算机通用/web安全/web安全简述.html" class="nav-link">
  web安全
</a></li><li class="dropdown-item"><!----> <a href="/计算机通用/算法/排序.html" class="nav-link">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/计算机通用/浏览器/浏览器缓存机制.html" class="nav-link">
  浏览器
</a></li><li class="dropdown-item"><!----> <a href="/计算机通用/网络/常见的状态码.html" class="nav-link">
  网络
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="拓展学习" class="dropdown-title"><span class="title">拓展学习</span> <span class="arrow down"></span></button> <button type="button" aria-label="拓展学习" class="mobile-dropdown-title"><span class="title">拓展学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/拓展学习/Java/基础知识.html" class="nav-link">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/拓展学习/技术了解/Redis.html" class="nav-link">
  技术了解
</a></li><li class="dropdown-item"><!----> <a href="/拓展学习/技术杂谈/关于重构的那点事.html" class="nav-link">
  技术杂谈
</a></li><li class="dropdown-item"><!----> <a href="/拓展学习/Node/基础知识/基础知识.html" class="nav-link">
  Node
</a></li></ul></div></div><div class="nav-item"><a href="/about.html" class="nav-link">
  关于
</a></div><div class="nav-item"><a href="https://github.com/Dilomen" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>技术了解</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>技术杂谈</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/拓展学习/技术杂谈/关于重构的那点事.html" class="active sidebar-link">关于重构的那点事</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/拓展学习/技术杂谈/关于重构的那点事.html#前言" class="sidebar-link">前言</a></li><li class="sidebar-sub-header"><a href="/拓展学习/技术杂谈/关于重构的那点事.html#第一章-示例" class="sidebar-link">第一章.示例</a></li><li class="sidebar-sub-header"><a href="/拓展学习/技术杂谈/关于重构的那点事.html#第二章-原则" class="sidebar-link">第二章.原则</a></li><li class="sidebar-sub-header"><a href="/拓展学习/技术杂谈/关于重构的那点事.html#第三章-坏味道" class="sidebar-link">第三章.坏味道</a></li><li class="sidebar-sub-header"><a href="/拓展学习/技术杂谈/关于重构的那点事.html#第四章-构筑测试体系" class="sidebar-link">第四章.构筑测试体系</a></li></ul></li><li><a href="/拓展学习/技术杂谈/优秀文章.html" class="sidebar-link">优秀文章</a></li><li><a href="/拓展学习/技术杂谈/优秀的个人博客.html" class="sidebar-link">优秀的个人博客</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h2> <p>最近在看一本叫《重构 改善既有代码的设计》这本书，虽然很多是思想，但是都值得让程序员去思考重构这件事，这里也当算是做个笔记。<br>
在我们编写程序中，往往随着时间的推移，一个好的程序设计会变得臃肿或者不符合当下需求，又或是曾经为了赶进度，代码设计有问题，这时候我们都需要通过重构来改善我们的代码————以便后期的维护和开发。</p> <blockquote><p>重构的唯一目的是让我们开发更快，它有时候会是一种短期内的成本损耗，但它在长期看来必定是收益颇丰的工作。是否重构应该是从价值判断的取舍，在合适的时候去进行适当规模的重构，能避免带来一定的损失，当然前提是你的老板本身是支持员工改善代码这件事，否则这种又累又不讨好的活可不是谁都爱干的哦 🐶</p></blockquote> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>重构应该是由经济利益驱动，当然它不会立即从经济收益中体现，毕竟他是服务开发的，它的价值在于提升开发效益，从而加快开发进度，由此实现的间接收益</p></div> <p>所以在落实重构这件事情上，不同的技术部门应该考虑当下的现状，比如本身员工是否主动愿意去做重构这件事，有比如当下是否对重构代码有测试进行同步支持，如果有，那么是以一种什么形式开展，如果没有，那么风险点是由谁来承担，即要有赏罚分明的制度等等，再者还需要权衡利弊，判断重构对当下的收益是否可观，或者说是否值得去做（这个往往是一些大的重构，如修改技术方案，技术架构调整等）。</p> <h4 id="那么在来来说说重构的好处"><a href="#那么在来来说说重构的好处" class="header-anchor">#</a> 那么在来来说说重构的好处</h4> <p>重构可以小到修改命名，大到整个模块（重构和重写是不一样的！）</p> <ul><li>更加规范的命名可以让我们更加直观的明白其的作用或者含义</li> <li>代码解耦，函数分解能让我们更加快速的找到对应的地方，并处理问题</li> <li>设计更合理的方案，能满足更好的需求变更</li> <li>性能优化和代码书写优化，也是重构的范畴</li> <li>有利于后期维护工作和新需求的功能添加，对后面加入的开发者也会比较友好</li> <li>...</li></ul> <h2 id="第一章-示例"><a href="#第一章-示例" class="header-anchor">#</a> 第一章.示例</h2> <p>该书第一章是以一个函数作为示例，一步一步的将其重构，从而带领读者认知重构的魅力。</p> <p>从提炼函数、改变传参、抽离变量、分离文件、多态优化等一系列手法将原本一个臃肿的函数“四分五裂”地改成了一堆功能明确的函数。</p> <h2 id="第二章-原则"><a href="#第二章-原则" class="header-anchor">#</a> 第二章.原则</h2> <p>该章主要讲了重构的意义。</p> <blockquote><p>重构（名词）：对软件内部结构的一种调整，目的是<em>在不改变软件可观察行为的前提下，提高其可理解性，降低其修改成本</em><br>
重构（动词）：使用一系列重构手法，<em>在不改变软件可观察行为的前提下，调整其结构</em></p></blockquote> <h4 id="为何重构-好处"><a href="#为何重构-好处" class="header-anchor">#</a> 为何重构（好处）</h4> <ul><li>改进设计：代码结构的设计，方案的设计，架构的设计等等，有助于整个软件（项目）的可持续发展</li> <li>可读性：让代码更易于理解，方便修改</li> <li>定位问题：重构可以让原本杂乱的结构变的条理有序，可以更好的将问题定位到某一块区域的代码</li> <li>提升效率：对一些计算可进行优化，从而提升代码执行效率</li></ul> <h4 id="何时重构"><a href="#何时重构" class="header-anchor">#</a> 何时重构</h4> <ul><li>预备性重构：在添加新功能前，发现原有功能设计不友好或者说满足不了之后的需求</li> <li>帮助理解的重构：当看到既有代码，却难以理解其作用或意义的时候</li> <li>有计划的重构：这个往往出现在对大的现有方案或设计进行重构，对当下的设计有很大程度的调整，也需要很大的成本时才会采取</li> <li>长期重构：逐步的解决</li> <li>复审代码：通过大家一起对代码审查，修改不合理的设计</li></ul> <h4 id="重构的条件"><a href="#重构的条件" class="header-anchor">#</a> 重构的条件</h4> <ul><li>是否不影响新功能开发的进度</li> <li>每个人是否都有对代码修改的权利</li> <li>如何集成重构后的分支</li> <li>是否有完善的测试机制支持</li></ul> <h2 id="第三章-坏味道"><a href="#第三章-坏味道" class="header-anchor">#</a> 第三章.坏味道</h2> <p>该章主要是叙述了一些代码场景，当遇到这些情况，就可以去考虑是否需要去重构代码了（当然这个不是百分百，具体还是需要考虑实际情况，老司机凭经验~）,<em>该拆拆，该聚聚</em></p> <blockquote><p>以下所有例子只是为来更好的理解，并不是最好（恰当）的例子</p></blockquote> <h4 id="神秘命名"><a href="#神秘命名" class="header-anchor">#</a> 神秘命名</h4> <p>不明确的命名，我们应该需要结合当下的业务场景，或者方法功能，编写一个直观明确的名称</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// ❌错误：不明确是什么状态</span>
<span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// ✅正确</span>
<span class="token function">setRoleStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="重复代码"><a href="#重复代码" class="header-anchor">#</a> 重复代码</h4> <p>重复的代码需要提炼出来，使其可以共用</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// ❌错误</span>
<span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// do something</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>status<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Notice<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">&quot;xxx&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    Notice<span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span><span class="token string">&quot;xxx&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// do something</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Notice<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">&quot;xxx&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    Notice<span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span><span class="token string">&quot;xxx&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// ✅正确</span>
<span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// do something</span>
  <span class="token function">notice</span><span class="token punctuation">(</span>status<span class="token punctuation">,</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// do something</span>
  <span class="token function">notice</span><span class="token punctuation">(</span>status<span class="token punctuation">,</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">notice</span><span class="token punctuation">(</span><span class="token parameter">status<span class="token punctuation">,</span> message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  status <span class="token operator">?</span> Notice<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span> <span class="token operator">:</span> Notice<span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h4 id="过长函数"><a href="#过长函数" class="header-anchor">#</a> 过长函数</h4> <p>不应该把所有的功能都挤在一块，应该拆分开来，将不同功能的代码拆分成各个单一职责的函数方法。各种条件表达式和循环也是提炼的信号</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// ❌错误</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  x的功能<span class="token punctuation">;</span>
  y的功能<span class="token punctuation">;</span>
  z的功能<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// ✅正确</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">fnX</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">fnY</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">fnZ</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">fnX</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  x的功能<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">fnY</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  y的功能<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">fnZ</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  z的功能<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h4 id="过长的参数列表"><a href="#过长的参数列表" class="header-anchor">#</a> 过长的参数列表</h4> <p>当一个函数有过多的参数，就需要考虑是否可以简化参数，如使用对象代替多个参数，或者看是否参数间有一些是可以通过另外的参数获取的，以此简化</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// ❌错误</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// ✅正确：参数就变成了可选</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// ✅正确：简化参数</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> d <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="全局变量"><a href="#全局变量" class="header-anchor">#</a> 全局变量</h4> <p>减少污染全局的变量，通过封装的方式解决</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// ❌错误</span>
<span class="token keyword">const</span> status <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// 全局</span>
<span class="token comment">// ✅正确</span>
<span class="token keyword">function</span> <span class="token function">getStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> status <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> status<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="可变数据"><a href="#可变数据" class="header-anchor">#</a> 可变数据</h4> <p>不要去改变原有的数据，需要生成修改后的新数据，特别是引用类型，容易操作同一份数据而导致问题的出现</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> defaultPerson <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// ❌错误</span>
defaultPerson<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">23</span><span class="token punctuation">;</span>
<span class="token comment">// ✅正确</span>
<span class="token keyword">const</span> person1 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>defaultPerson<span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">23</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="发散式变化"><a href="#发散式变化" class="header-anchor">#</a> 发散式变化</h4> <p>当添加一项内容时，多处地方的逻辑都需要变化的时候。应该做到当对某个上下文做修改时，只需要理解当前这个上下文，而不必操心另一个。将处理一起的功能集合到一块，集合功能！</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// ❌错误</span>
<span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span>val<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  val <span class="token operator">+=</span> <span class="token string">&quot;add&quot;</span><span class="token punctuation">;</span>
  <span class="token function">reduce</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">reduce</span><span class="token punctuation">(</span>val<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  val <span class="token operator">+=</span> <span class="token string">&quot;reduce&quot;</span><span class="token punctuation">;</span>
  <span class="token function">handle</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">handle</span><span class="token punctuation">(</span>val<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 突然有一天，val要变成string,那么就要一个个改</span>
<span class="token comment">// ✅正确</span>
<span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span>val<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  val <span class="token operator">+=</span> <span class="token string">&quot;add&quot;</span><span class="token punctuation">;</span>
  val <span class="token operator">+=</span> <span class="token string">&quot;reduce&quot;</span><span class="token punctuation">;</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h4 id="散弹式修改"><a href="#散弹式修改" class="header-anchor">#</a> 散弹式修改</h4> <p>当修改一处地方，就必须要同时修改多处地方的时候，就需要重构了。应该解耦或抽离相关的逻辑。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// ❌错误</span>
<span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// x功能</span>
  <span class="token comment">// do something</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// base on x功能</span>
  <span class="token comment">// do something</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">fn3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// base on x功能</span>
  <span class="token comment">// do something</span>
<span class="token punctuation">}</span>
<span class="token comment">// ✅正确</span>
<span class="token keyword">function</span> <span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// x功能</span>
  <span class="token comment">// base on x功能</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// do something</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// do something</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">fn3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// do something</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h4 id="依恋情结"><a href="#依恋情结" class="header-anchor">#</a> 依恋情结</h4> <p>两个函数或者模块的数据交集过多的时候，就需要考虑是否抽离一个中间角色来间接处理</p> <h4 id="数据泥团"><a href="#数据泥团" class="header-anchor">#</a> 数据泥团</h4> <p>太多的数据成团在一块，应该将它们提炼到独立对象中</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// ❌错误</span>
<span class="token keyword">let</span> btnLoading <span class="token operator">=</span> <span class="token boolean">false</span>
<span class="token keyword">let</span> btnText <span class="token operator">=</span> <span class="token string">'提交'</span>
<span class="token keyword">let</span> btnDisabled <span class="token operator">=</span> <span class="token boolean">false</span>
<span class="token comment">// ✅正确</span>
<span class="token keyword">let</span> btnObj <span class="token operator">=</span> <span class="token punctuation">{</span>
  loading<span class="token operator">:</span> <span class="token boolean">false</span>
  text<span class="token operator">:</span> <span class="token string">'提交'</span>
  disabled<span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="基本类型偏执"><a href="#基本类型偏执" class="header-anchor">#</a> 基本类型偏执</h4> <p>可以将一些特殊的类型，如金钱、手机号等使用一个对象来处理，而不是直接使用一个字符串或者数字来表示</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// ❌错误</span>
<span class="token keyword">const</span> phoneNumber <span class="token operator">=</span> <span class="token number">15934908233</span><span class="token punctuation">;</span>
<span class="token comment">// ✅正确</span>
<span class="token keyword">function</span> <span class="token function">PhoneNumber</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">vaildPhone</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token string">&quot;...&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> value <span class="token operator">=</span> val<span class="token punctuation">;</span>

  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">set</span><span class="token punctuation">(</span>newVal<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">vaildPhone</span><span class="token punctuation">(</span>newVal<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token string">&quot;...&quot;</span><span class="token punctuation">;</span>
      value <span class="token operator">=</span> newVal<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> number <span class="token operator">=</span> <span class="token function">PhoneNumber</span><span class="token punctuation">(</span><span class="token number">159892947</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>number<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
number<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">159892947</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h4 id="重复的switch"><a href="#重复的switch" class="header-anchor">#</a> 重复的switch</h4> <p>if/else和switch的写法实属让人觉得不舒服，可以利用一些方式优化代码，比如利用对象的形式</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// ❌错误</span>
<span class="token keyword">switch</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">case</span><span class="token operator">:</span> <span class="token string">'a'</span><span class="token operator">:</span> <span class="token comment">// ...</span>
    <span class="token keyword">break</span>
  <span class="token keyword">case</span><span class="token operator">:</span> <span class="token string">'b'</span><span class="token operator">:</span> <span class="token comment">// ...</span>
    <span class="token keyword">break</span>
  <span class="token keyword">default</span>
    <span class="token keyword">break</span>
<span class="token punctuation">}</span>
<span class="token comment">// ✅正确</span>
<span class="token keyword">const</span> group <span class="token operator">=</span> <span class="token punctuation">{</span>
  a<span class="token operator">:</span> <span class="token string">'...'</span>
  b<span class="token operator">:</span> <span class="token string">'...'</span><span class="token punctuation">,</span>
  c<span class="token operator">:</span> <span class="token string">'...'</span>
<span class="token punctuation">}</span>
group<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h4 id="循环语句"><a href="#循环语句" class="header-anchor">#</a> 循环语句</h4> <p>用一些现有API或者自己封装API来简化一些for循环代码，比如特殊的filter,reduce等等</p> <h4 id="多余的元素"><a href="#多余的元素" class="header-anchor">#</a> 多余的元素</h4> <p>减少一些不必要的类设计，通常会遇到一个简单的组件，大家也喜欢把它抽离出来，维护一个文件，而这对于后期开发是极不友好的，会导致嵌套过深不易阅读和数据不好处理的问题。应该使用内联的方式编写。</p> <h4 id="夸夸其谈通用性"><a href="#夸夸其谈通用性" class="header-anchor">#</a> 夸夸其谈通用性</h4> <p>这个很多出现在一些封装的时候，想一口吃成大胖子，既想满足一些场景，又想满足另一些场景，最终导致整个“产品”难以使用。所以应该从好用实用的角度作为出发点，合理设计功能。</p> <h4 id="过长的消息链"><a href="#过长的消息链" class="header-anchor">#</a> 过长的消息链</h4> <p>消息链过长往往不利用阅读和调试，组件封装也是同理，过多的嵌套也不合理。应该将一些功能聚合或者抽离出来</p> <h4 id="中间人"><a href="#中间人" class="header-anchor">#</a> 中间人</h4> <p>如果一个方法被各处调用，并去实现不同事情的时候，就需要重构，一个方法应该做到单一功能化。这个在写代码的时候大家也都会遇到，就是一个封装好的组件，在被需求改变后，组件就只能为了不影响别的地方，而被迫加个参数来判断另一种功能。久而久之，不重构的话，项目就变成了一座屎山。</p> <h4 id="内幕交易"><a href="#内幕交易" class="header-anchor">#</a> 内幕交易</h4> <p>其实也一样，就是抽离出两个组件交集的部分，解耦相关内容。</p> <h4 id="过大的类"><a href="#过大的类" class="header-anchor">#</a> 过大的类</h4> <p>合理划分功能，拆解。</p> <h4 id="异曲同工的类"><a href="#异曲同工的类" class="header-anchor">#</a> 异曲同工的类</h4> <p>说的就是多态，但是JS又没有多态的概念，所以这个场景还是比较少见。</p> <h4 id="纯数据类"><a href="#纯数据类" class="header-anchor">#</a> 纯数据类</h4> <p>有点JavaBean的意思，但是对于js，我觉得没有必要，但是对于一些静态变量，是可以抽离出来成为一个文件的。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token constant">CHANGE_PAGE_STATUS</span> <span class="token operator">=</span> <span class="token string">'CHANGE_PAGE_STATUS'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="被拒绝的遗赠"><a href="#被拒绝的遗赠" class="header-anchor">#</a> 被拒绝的遗赠</h4> <p>关于类继承，在js平时开发中并不常用，如果你喜欢写服务端js，倒是可以注意下，运用委托取代子类，或者子类取代超类</p> <h4 id="注释"><a href="#注释" class="header-anchor">#</a> 注释</h4> <p>优秀的代码是不需要注释的🐶，算了吧，没那么理想化的，面对复杂的业务需求，还是老老实实写注释吧！</p> <h2 id="第四章-构筑测试体系"><a href="#第四章-构筑测试体系" class="header-anchor">#</a> 第四章.构筑测试体系</h2></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/拓展学习/技术了解/Nginx.html" class="prev">
        Nginx
      </a></span> <span class="next"><a href="/拓展学习/技术杂谈/优秀文章.html">
        优秀文章
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><div class="fixed" data-v-55c79701></div><div></div></div></div>
    <script src="/assets/js/app.42f00aa1.js" defer></script><script src="/assets/js/2.edb9f13a.js" defer></script><script src="/assets/js/68.a0131337.js" defer></script><script src="/assets/js/3.61a7e294.js" defer></script>
  </body>
</html>
